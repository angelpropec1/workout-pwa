/* Mobile-first PWA styles (iPhone friendly) */
:root{
  --bg:#0b0b0c;
  --card:#141416;
  --muted:#a6a6a9;
  --text:#f2f2f3;
  --line:#262629;
  --primary:#4c8dff;
  --secondary:#2a2a2f;
  --danger:#ff4d4d;
  --radius:16px;
}

*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  font-family:-apple-system, BlinkMacSystemFont, "SF Pro Text", "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
  background:var(--bg);
  color:var(--text);
}

.app-header{
  position:sticky;
  top:0;
  z-index:20;
  padding:14px 14px calc(10px + env(safe-area-inset-top));
  background:rgba(11,11,12,.92);
  backdrop-filter: blur(12px);
  border-bottom:1px solid var(--line);
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
}

.app-title{ font-size:18px; font-weight:800; letter-spacing:.2px; }
.app-subtitle{ font-size:12px; color:var(--muted); margin-top:2px; }
.header-right{ display:flex; gap:8px; }

.app-main{
  padding:14px 14px calc(18px + env(safe-area-inset-bottom));
  max-width:760px;
  margin:0 auto;
}

.view{ display:none; }
.view.active{ display:block; }

.card{
  background:var(--card);
  border:1px solid var(--line);
  border-radius:var(--radius);
  padding:14px;
  margin-bottom:12px;
}

h2{ margin:0 0 10px; font-size:18px; }
h3{ margin:0 0 10px; font-size:16px; }
.kicker{ font-size:12px; color:var(--muted); }
.meta, .mini{ color:var(--muted); font-size:12px; }
.summary{ color:var(--text); font-size:14px; line-height:1.35; }
.list{ margin:0; padding-left:18px; color:var(--muted); }
.list li{ margin:6px 0; }

.row{ display:flex; gap:10px; align-items:center; margin-top:10px; flex-wrap:wrap; }
.space-between{ justify-content:space-between; }
.grid{
  display:grid;
  grid-template-columns:1fr;
  gap:10px;
}
@media (min-width:520px){
  .grid{ grid-template-columns:1fr 1fr; }
}

button, .buttonlike{
  border:none;
  border-radius:14px;
  padding:12px 14px;
  font-weight:700;
  color:var(--text);
  background:var(--secondary);
  cursor:pointer;
  user-select:none;
}
button.big{ padding:16px 14px; font-size:15px; }
button.primary{ background:var(--primary); color:#08101f; }
button.secondary{ background:var(--secondary); }
button.danger{ background:var(--danger); color:#1a0a0a; }
button.ghost{
  background:transparent;
  border:1px solid var(--line);
  color:var(--text);
  padding:10px 12px;
}
button:active{ transform:scale(.99); }
button:disabled{ opacity:.5; cursor:not-allowed; }

.form{
  display:grid;
  grid-template-columns:1fr;
  gap:10px;
}
label{ display:grid; gap:6px; font-size:12px; color:var(--muted); }
input, select, textarea{
  border-radius:14px;
  border:1px solid var(--line);
  background:#0f0f12;
  color:var(--text);
  padding:12px 12px;
  font-size:15px;
}
textarea{ resize:vertical; }
label.inline{
  display:flex;
  align-items:center;
  gap:10px;
  font-size:14px;
  color:var(--text);
}
label.inline input{ width:18px; height:18px; }

.sep{
  border:none;
  border-top:1px solid var(--line);
  margin:14px 0;
}

.exercise-list{ display:grid; gap:10px; }
.exercise-card{
  padding:12px;
  border-radius:14px;
  border:1px solid var(--line);
  background:#0f0f12;
}
.exercise-top{
  display:flex;
  justify-content:space-between;
  gap:10px;
  align-items:flex-start;
}
.exercise-name{ font-weight:800; font-size:15px; }
.exercise-mini{ font-size:12px; color:var(--muted); margin-top:4px; line-height:1.25; }
.badge{
  border:1px solid var(--line);
  border-radius:999px;
  padding:6px 10px;
  font-size:12px;
  color:var(--muted);
}
.exercise-actions{
  display:flex;
  gap:8px;
  margin-top:10px;
}

.workout-header{
  display:flex;
  justify-content:space-between;
  gap:10px;
  align-items:flex-start;
}
.workout-actions{ display:flex; gap:8px; }

.history-list{ display:grid; gap:10px; }
.history-item{
  border:1px solid var(--line);
  background:#0f0f12;
  border-radius:14px;
  padding:12px;
}
.history-item h4{ margin:0 0 6px; font-size:15px; }
.history-item .mini{ margin-top:2px; }
.history-item .row{ margin-top:8px; }

.modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.55);
  display:none;
  align-items:flex-end;
  justify-content:center;
  padding:16px;
  z-index:50;
}
.modal.show{ display:flex; }
.modal-sheet{
  width:min(760px, 100%);
  background:var(--card);
  border:1px solid var(--line);
  border-radius:22px;
  padding:14px;
  max-height:88vh;
  overflow:auto;
}
.modal-header{
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  gap:10px;
  margin-bottom:10px;
}
.modal-footer{
  display:flex;
  justify-content:space-between;
  gap:10px;
  margin-top:12px;
}
.sets{ display:grid; gap:10px; margin-top:10px; }
.set-row{
  display:grid;
  grid-template-columns: 72px 1fr 1fr;
  gap:10px;
  align-items:center;
  border:1px solid var(--line);
  background:#0f0f12;
  border-radius:14px;
  padding:10px;
}
.set-label{ color:var(--muted); font-size:12px; font-weight:800; }
.file input{ display:none; }


/* Export sheet (full-screen) */
.sheet{
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.6);
  backdrop-filter: blur(6px);
  z-index: 9999;
  display: flex;
  align-items: flex-end;
  justify-content: center;
  padding: 12px;
}

.sheet.hidden{ display:none; }

.sheet-inner{
  width: 100%;
  max-width: 720px;
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 12px;
  box-shadow: 0 14px 50px rgba(0,0,0,0.35);
}

.sheet-header{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 10px;
}

.sheet-title{
  font-size: 18px;
  font-weight: 900;
}

.export-text{
  width: 100%;
  height: 55vh;
  resize: none;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  font-size: 13px;
  line-height: 1.35;
  padding: 12px;
  background: rgba(255,255,255,0.04);
  border: 1px solid var(--border);
  border-radius: 12px;
  color: var(--text);
}
